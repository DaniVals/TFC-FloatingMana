<!DOCTYPE html>
<html lang="en">
<head>
	{% set meta_title = "Tus Mazos" %}
	{% set meta_description = "Gestiona tus mazos" %}
	
	{% include "root.html.twig" %}
	<link rel="stylesheet" href=" {{ asset('styles/deck.css') }} ">
</head>
{% include "header.html.twig" %}
<body>
	
    <div class="container">
		{% if not is_granted("IS_AUTHENTICATED_FULLY") %}
			<div class="row">
				<div class="col-12 text-center">
					<a href="{{ path('app_login') }}">
					<h1> Inicia sesion para gestionar tus mazos </h1>
					</a>
				</div>
			</div>
		{% else %}

			<div class="row">
				<div class="col-12 text-center">
					<h1> Tus mazos </h1>
					<div class="col-12 text-center">
						<a href="{{ path('deck_create_view') }}" class="btn btn-outline-success {% if app.user.getDecks|length == 0 %}btn-lg{% endif %}">
							Crear nuevo mazo
						</a>
					</div>
				</div>
			</div>
			{% include "separation.twig" %}

			<div class="row justify-content-center justify-content-sm-start" id="deck-list" data-ajax-route="https://api.scryfall.com/cards/">
				{# {{ dump(app.user.getDecks) }} #}

				{% for deck in app.user.getDecks %}
					{# {{ dump(deck) }} #}
					<a href="{{ path('deck_show', { id: deck.getIdDeck }) }}"
					   class="deck col-md-3 col-sm-5 col-9 m-3 d-flex flex-column justify-content-center text-center"
					   style="background-image:url('{{deck.getCoverImg}}');">
						{{ deck.getDeckName }}
					</a>
				{% endfor %}
			</div>
		{% endif %}
    </div>
</body>
</html>
